{"ast":null,"code":"import { ref, reactive, computed, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport RecommendationCard from '@/components/RecommendationCard.vue';\nimport axios from 'axios';\nexport default {\n  name: 'Home',\n  components: {\n    RecommendationCard\n  },\n  setup() {\n    const router = useRouter();\n\n    // Form data\n    const topic = ref('');\n    const subreddit = ref('');\n    const subreddits = ref(['anime', 'manga', 'LightNovels', 'books', 'suggestmeabook', 'MovieSuggestions', 'televisionsuggestions', 'ifyoulikeblank', 'gamesuggestions', 'gamingsuggestions']);\n\n    // UI state\n    const isLoading = ref(false);\n    const showResults = ref(false);\n    const showGenreFilter = ref(false);\n    const selectedGenres = ref([]);\n    const viewMode = ref('grid');\n    const selectedRecommendation = ref(null);\n\n    // Data\n    const recommendations = ref([]);\n    const genres = computed(() => {\n      const allGenres = new Set();\n      recommendations.value.forEach(rec => {\n        if (rec.generos && Array.isArray(rec.generos)) {\n          rec.generos.forEach(genre => allGenres.add(genre));\n        }\n      });\n      return [...allGenres].sort();\n    });\n\n    // Filtered recommendations\n    const filteredRecommendations = computed(() => {\n      if (selectedGenres.value.length === 0) {\n        return recommendations.value;\n      }\n      return recommendations.value.filter(rec => {\n        if (!rec.generos || !Array.isArray(rec.generos)) return false;\n        return selectedGenres.value.some(genre => rec.generos.includes(genre));\n      });\n    });\n\n    // Load subreddits on mount\n    onMounted(() => {\n      // Check if we have recommendations in localStorage\n      const storedRecommendations = localStorage.getItem('recommendations');\n      if (storedRecommendations) {\n        try {\n          recommendations.value = JSON.parse(storedRecommendations);\n          if (recommendations.value.length > 0) {\n            showResults.value = true;\n          }\n        } catch (e) {\n          console.error('Error parsing stored recommendations:', e);\n        }\n      }\n    });\n\n    // Search Reddit\n    const searchReddit = async () => {\n      if (!topic.value || !subreddit.value) return;\n      isLoading.value = true;\n      showResults.value = false;\n      try {\n        // In a real app, this would be an API call\n        // For now, we'll simulate a delay and return mock data\n        await new Promise(resolve => setTimeout(resolve, 3000));\n\n        // Mock data\n        const mockRecommendations = [{\n          id: 1,\n          titulo: 'Fullmetal Alchemist: Brotherhood',\n          tipo: 'Anime',\n          episodios: 64,\n          ano: 2009,\n          score: 9.1,\n          image_url: 'https://cdn.myanimelist.net/images/anime/1223/96541.jpg',\n          generos: ['Action', 'Adventure', 'Drama', 'Fantasy'],\n          razoes: ['História envolvente com personagens bem desenvolvidos', 'Combina perfeitamente elementos de ação, drama e comédia', 'Animação de alta qualidade e trilha sonora memorável'],\n          recomendadoPor: ['user1', 'user2', 'user3'],\n          sinopse: 'Após uma tentativa fracassada de ressuscitar a mãe falecida, os irmãos Edward e Alphonse Elric buscam a Pedra Filosofal para recuperar seus corpos originais.'\n        }, {\n          id: 2,\n          titulo: 'Steins;Gate',\n          tipo: 'Anime',\n          episodios: 24,\n          ano: 2011,\n          score: 9.0,\n          image_url: 'https://cdn.myanimelist.net/images/anime/5/73199.jpg',\n          generos: ['Sci-Fi', 'Thriller', 'Drama'],\n          razoes: ['Trama de viagem no tempo complexa e bem elaborada', 'Desenvolvimento de personagem excepcional', 'Mistura perfeita de comédia e drama intenso'],\n          recomendadoPor: ['user1', 'user4'],\n          sinopse: 'Um grupo de amigos cria acidentalmente uma máquina capaz de enviar mensagens para o passado, alterando a linha do tempo e enfrentando consequências inesperadas.'\n        }, {\n          id: 3,\n          titulo: 'Attack on Titan',\n          tipo: 'Anime',\n          episodios: 75,\n          ano: 2013,\n          score: 8.9,\n          image_url: 'https://cdn.myanimelist.net/images/anime/10/47347.jpg',\n          generos: ['Action', 'Drama', 'Fantasy', 'Mystery'],\n          razoes: ['Worldbuilding impressionante com revelações surpreendentes', 'Cenas de ação dinâmicas e impactantes', 'Aborda temas profundos como liberdade, guerra e humanidade'],\n          recomendadoPor: ['user2', 'user5', 'user6'],\n          sinopse: 'A humanidade luta pela sobrevivência contra gigantes devoradores de humanos, enquanto descobre segredos chocantes sobre sua própria história.'\n        }];\n        recommendations.value = mockRecommendations;\n\n        // Store debug data\n        const debugData = {\n          topic: topic.value,\n          subreddit: subreddit.value,\n          timestamp: new Date().toISOString(),\n          searchResults: [{\n            title: 'What are your top anime recommendations?',\n            author: 'anime_fan',\n            created: Date.now(),\n            score: 156,\n            commentCount: 78,\n            url: 'https://reddit.com'\n          }, {\n            title: 'Looking for anime similar to FMA:B',\n            author: 'new_weeb',\n            created: Date.now(),\n            score: 42,\n            commentCount: 23,\n            url: 'https://reddit.com'\n          }],\n          aggregatedText: 'Fullmetal Alchemist Brotherhood is often recommended as one of the best anime series...',\n          aiResponse: {\n            recomendacoes: mockRecommendations\n          },\n          jikanData: mockRecommendations.map(rec => ({\n            titulo: rec.titulo,\n            jikanInfo: {\n              mal_id: Math.floor(Math.random() * 10000)\n            }\n          }))\n        };\n        localStorage.setItem('recommendations', JSON.stringify(recommendations.value));\n        localStorage.setItem('debugData', JSON.stringify(debugData));\n        showResults.value = true;\n      } catch (error) {\n        console.error('Error searching Reddit:', error);\n        alert('Ocorreu um erro ao buscar recomendações. Por favor, tente novamente.');\n      } finally {\n        isLoading.value = false;\n      }\n    };\n\n    // Toggle genre filter dropdown\n    const toggleGenreFilter = () => {\n      showGenreFilter.value = !showGenreFilter.value;\n    };\n\n    // Toggle genre selection\n    const toggleGenre = genre => {\n      const index = selectedGenres.value.indexOf(genre);\n      if (index === -1) {\n        selectedGenres.value.push(genre);\n      } else {\n        selectedGenres.value.splice(index, 1);\n      }\n    };\n\n    // Clear genre filters\n    const clearGenreFilters = () => {\n      selectedGenres.value = [];\n      showGenreFilter.value = false;\n    };\n\n    // Apply filters\n    const applyFilters = () => {\n      showGenreFilter.value = false;\n    };\n\n    // Set view mode\n    const setViewMode = mode => {\n      viewMode.value = mode;\n    };\n\n    // Go to debug page\n    const goToDebug = () => {\n      router.push('/debug');\n    };\n\n    // Show recommendation details\n    const showDetails = recommendation => {\n      selectedRecommendation.value = recommendation;\n    };\n\n    // Format number\n    const formatNumber = num => {\n      if (typeof num !== 'number') return num;\n      return num.toFixed(1);\n    };\n    return {\n      // Form data\n      topic,\n      subreddit,\n      subreddits,\n      // UI state\n      isLoading,\n      showResults,\n      showGenreFilter,\n      selectedGenres,\n      viewMode,\n      selectedRecommendation,\n      // Data\n      recommendations,\n      genres,\n      filteredRecommendations,\n      // Methods\n      searchReddit,\n      toggleGenreFilter,\n      toggleGenre,\n      clearGenreFilters,\n      applyFilters,\n      setViewMode,\n      goToDebug,\n      showDetails,\n      formatNumber\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","computed","onMounted","useRouter","RecommendationCard","axios","name","components","setup","router","topic","subreddit","subreddits","isLoading","showResults","showGenreFilter","selectedGenres","viewMode","selectedRecommendation","recommendations","genres","allGenres","Set","value","forEach","rec","generos","Array","isArray","genre","add","sort","filteredRecommendations","length","filter","some","includes","storedRecommendations","localStorage","getItem","JSON","parse","e","console","error","searchReddit","Promise","resolve","setTimeout","mockRecommendations","id","titulo","tipo","episodios","ano","score","image_url","razoes","recomendadoPor","sinopse","debugData","timestamp","Date","toISOString","searchResults","title","author","created","now","commentCount","url","aggregatedText","aiResponse","recomendacoes","jikanData","map","jikanInfo","mal_id","Math","floor","random","setItem","stringify","alert","toggleGenreFilter","toggleGenre","index","indexOf","push","splice","clearGenreFilters","applyFilters","setViewMode","mode","goToDebug","showDetails","recommendation","formatNumber","num","toFixed"],"sources":["/home/geanwork/Documentos/Projetos/Pessoal/reddit-research/src/views/Home.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen flex flex-col\">\n    <!-- Hero Section -->\n    <div class=\"bg-gradient-to-r from-blue-800 to-indigo-900 text-white\">\n      <div class=\"container mx-auto px-4 py-16\">\n        <div class=\"max-w-3xl mx-auto text-center\">\n          <h1 class=\"text-4xl md:text-5xl font-bold mb-4\">RecommendIt</h1>\n          <p class=\"text-xl mb-8\">Descubra novas recomendações baseadas nas discussões do Reddit</p>\n          \n          <!-- Search Form -->\n          <div class=\"bg-white/10 backdrop-blur-sm rounded-lg p-6 shadow-lg\">\n            <form @submit.prevent=\"searchReddit\" class=\"space-y-4\">\n              <div>\n                <label for=\"topic\" class=\"block text-sm font-medium mb-1\">O que você está procurando?</label>\n                <input \n                  type=\"text\" \n                  id=\"topic\" \n                  v-model=\"topic\" \n                  placeholder=\"Ex: animes de ação, livros de ficção científica, jogos de estratégia...\" \n                  class=\"w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50\"\n                  required\n                >\n              </div>\n              \n              <div>\n                <label for=\"subreddit\" class=\"block text-sm font-medium mb-1\">Escolha um subreddit</label>\n                <div class=\"relative\">\n                  <select \n                    id=\"subreddit\" \n                    v-model=\"subreddit\" \n                    class=\"w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white appearance-none focus:outline-none focus:ring-2 focus:ring-white/50\"\n                    required\n                  >\n                    <option value=\"\" disabled>Selecione um subreddit</option>\n                    <option v-for=\"sub in subreddits\" :key=\"sub\" :value=\"sub\">r/{{ sub }}</option>\n                  </select>\n                  <div class=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n                    <i class=\"fas fa-chevron-down text-white/70\"></i>\n                  </div>\n                </div>\n              </div>\n              \n              <div>\n                <button \n                  type=\"submit\" \n                  class=\"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow transition-colors duration-200 flex items-center justify-center\"\n                  :disabled=\"isLoading\"\n                >\n                  <i class=\"fas fa-search mr-2\"></i>\n                  <span v-if=\"!isLoading\">Buscar Recomendações</span>\n                  <span v-else>Processando...</span>\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Loading Indicator -->\n    <div v-if=\"isLoading\" class=\"flex-1 flex items-center justify-center\">\n      <div class=\"text-center p-8\">\n        <div class=\"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4\"></div>\n        <p class=\"text-lg text-gray-600\">Analisando discussões do Reddit...</p>\n        <p class=\"text-sm text-gray-500 mt-2\">Isso pode levar alguns segundos</p>\n      </div>\n    </div>\n    \n    <!-- Results Section -->\n    <div v-else-if=\"showResults\" class=\"flex-1 bg-gray-50\">\n      <div class=\"container mx-auto px-4 py-8\">\n        <div class=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6\">\n          <h2 class=\"text-2xl font-bold text-gray-800 mb-4 md:mb-0\">\n            Recomendações para você\n          </h2>\n          \n          <div class=\"flex flex-wrap gap-2\">\n            <!-- Filter by Genre -->\n            <div class=\"relative\">\n              <button \n                @click=\"toggleGenreFilter\" \n                class=\"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 flex items-center\"\n              >\n                <i class=\"fas fa-filter mr-2\"></i> Filtrar por Gênero\n                <i class=\"fas fa-chevron-down ml-2 text-xs\"></i>\n              </button>\n              \n              <div \n                v-if=\"showGenreFilter\" \n                class=\"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg z-10 p-3\"\n              >\n                <div class=\"mb-2 pb-2 border-b border-gray-200\">\n                  <div class=\"text-sm font-medium text-gray-700 mb-1\">Gêneros</div>\n                  <div class=\"flex flex-wrap gap-1\">\n                    <button \n                      v-for=\"genre in genres\" \n                      :key=\"genre\"\n                      @click=\"toggleGenre(genre)\"\n                      class=\"px-2 py-1 text-xs rounded-full mb-1\"\n                      :class=\"selectedGenres.includes(genre) ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700'\"\n                    >\n                      {{ genre }}\n                    </button>\n                  </div>\n                </div>\n                <div class=\"flex justify-between\">\n                  <button \n                    @click=\"clearGenreFilters\" \n                    class=\"text-xs text-gray-600 hover:text-gray-800\"\n                  >\n                    Limpar filtros\n                  </button>\n                  <button \n                    @click=\"applyFilters\" \n                    class=\"text-xs text-blue-600 hover:text-blue-800\"\n                  >\n                    Aplicar\n                  </button>\n                </div>\n              </div>\n            </div>\n            \n            <!-- View Mode Toggle -->\n            <div class=\"flex rounded-lg overflow-hidden border border-gray-300\">\n              <button \n                @click=\"setViewMode('grid')\" \n                class=\"px-3 py-2 flex items-center justify-center\"\n                :class=\"viewMode === 'grid' ? 'bg-blue-600 text-white' : 'bg-white text-gray-700'\"\n              >\n                <i class=\"fas fa-th-large\"></i>\n              </button>\n              <button \n                @click=\"setViewMode('list')\" \n                class=\"px-3 py-2 flex items-center justify-center\"\n                :class=\"viewMode === 'list' ? 'bg-blue-600 text-white' : 'bg-white text-gray-700'\"\n              >\n                <i class=\"fas fa-list\"></i>\n              </button>\n            </div>\n            \n            <!-- Debug Mode Button -->\n            <button \n              @click=\"goToDebug\" \n              class=\"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 flex items-center\"\n            >\n              <i class=\"fas fa-bug mr-2\"></i> Modo Debug\n            </button>\n          </div>\n        </div>\n        \n        <!-- Recommendations Grid/List -->\n        <div \n          :class=\"{ \n            'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6': viewMode === 'grid',\n            'space-y-4': viewMode === 'list'\n          }\"\n        >\n          <div v-if=\"filteredRecommendations.length === 0\" class=\"col-span-full py-8 text-center\">\n            <p class=\"text-lg text-gray-600\">Nenhuma recomendação encontrada com os filtros selecionados.</p>\n            <button \n              @click=\"clearGenreFilters\" \n              class=\"mt-2 text-blue-600 hover:text-blue-800\"\n            >\n              Limpar filtros\n            </button>\n          </div>\n          \n          <recommendation-card \n            v-for=\"recommendation in filteredRecommendations\" \n            :key=\"recommendation.id || recommendation.titulo\" \n            :recommendation=\"recommendation\"\n            :view-mode=\"viewMode\"\n            @click=\"showDetails(recommendation)\"\n            class=\"cursor-pointer\"\n          />\n        </div>\n      </div>\n    </div>\n    \n    <!-- Modal for Recommendation Details -->\n    <div v-if=\"selectedRecommendation\" class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div class=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\n        <div class=\"p-4 border-b border-gray-200 flex justify-between items-center\">\n          <h3 class=\"text-xl font-bold text-gray-900\">Detalhes da Recomendação</h3>\n          <button @click=\"selectedRecommendation = null\" class=\"text-gray-500 hover:text-gray-700\">\n            <i class=\"fas fa-times\"></i>\n          </button>\n        </div>\n        \n        <div class=\"flex-1 overflow-y-auto p-4\">\n          <div class=\"flex flex-col md:flex-row gap-6\">\n            <!-- Image -->\n            <div class=\"w-full md:w-1/3 flex-shrink-0\">\n              <div class=\"bg-gray-200 rounded-lg overflow-hidden aspect-[3/4]\">\n                <img \n                  v-if=\"selectedRecommendation.image_url\" \n                  :src=\"selectedRecommendation.image_url\" \n                  :alt=\"selectedRecommendation.titulo\"\n                  class=\"w-full h-full object-cover\"\n                />\n                <div v-else class=\"w-full h-full flex items-center justify-center\">\n                  <i class=\"fas fa-image text-gray-400 text-4xl\"></i>\n                </div>\n              </div>\n              \n              <div class=\"mt-4 space-y-2\">\n                <div v-if=\"selectedRecommendation.score\" class=\"flex items-center\">\n                  <span class=\"text-amber-500 font-bold text-xl mr-2\">{{ formatNumber(selectedRecommendation.score) }}</span>\n                  <div class=\"flex\">\n                    <i class=\"fas fa-star text-amber-500\"></i>\n                  </div>\n                </div>\n                \n                <div v-if=\"selectedRecommendation.tipo\" class=\"text-gray-700\">\n                  <span class=\"font-medium\">Tipo:</span> {{ selectedRecommendation.tipo }}\n                </div>\n                \n                <div v-if=\"selectedRecommendation.episodios\" class=\"text-gray-700\">\n                  <span class=\"font-medium\">Episódios:</span> {{ selectedRecommendation.episodios }}\n                </div>\n                \n                <div v-if=\"selectedRecommendation.ano\" class=\"text-gray-700\">\n                  <span class=\"font-medium\">Ano:</span> {{ selectedRecommendation.ano }}\n                </div>\n              </div>\n            </div>\n            \n            <!-- Details -->\n            <div class=\"flex-1\">\n              <h2 class=\"text-2xl font-bold text-gray-900 mb-4\">{{ selectedRecommendation.titulo }}</h2>\n              \n              <div v-if=\"selectedRecommendation.sinopse\" class=\"mb-6\">\n                <h4 class=\"text-lg font-medium text-gray-800 mb-2\">Sinopse</h4>\n                <p class=\"text-gray-700\">{{ selectedRecommendation.sinopse }}</p>\n              </div>\n              \n              <div v-if=\"selectedRecommendation.generos && selectedRecommendation.generos.length\" class=\"mb-6\">\n                <h4 class=\"text-lg font-medium text-gray-800 mb-2\">Gêneros</h4>\n                <div class=\"flex flex-wrap gap-2\">\n                  <span \n                    v-for=\"(genero, index) in selectedRecommendation.generos\" \n                    :key=\"index\"\n                    class=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm\"\n                  >\n                    {{ genero }}\n                  </span>\n                </div>\n              </div>\n              \n              <div v-if=\"selectedRecommendation.razoes && selectedRecommendation.razoes.length\" class=\"mb-6\">\n                <h4 class=\"text-lg font-medium text-gray-800 mb-2\">Por que recomendamos</h4>\n                <ul class=\"list-disc pl-5 space-y-2\">\n                  <li v-for=\"(razao, index) in selectedRecommendation.razoes\" :key=\"index\" class=\"text-gray-700\">\n                    {{ razao }}\n                  </li>\n                </ul>\n              </div>\n              \n              <div v-if=\"selectedRecommendation.recomendadoPor && selectedRecommendation.recomendadoPor.length\" class=\"mb-6\">\n                <h4 class=\"text-lg font-medium text-gray-800 mb-2\">Recomendado por</h4>\n                <p class=\"text-gray-700\">\n                  Esta recomendação foi mencionada por {{ selectedRecommendation.recomendadoPor.length }} \n                  {{ selectedRecommendation.recomendadoPor.length === 1 ? 'usuário' : 'usuários' }} do Reddit.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"p-4 border-t border-gray-200 flex justify-end\">\n          <button \n            @click=\"selectedRecommendation = null\" \n            class=\"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg\"\n          >\n            Fechar\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Footer -->\n    <footer class=\"bg-gray-900 text-white py-4\">\n      <div class=\"container mx-auto px-4 text-center\">\n        <p class=\"text-sm\">© 2023 RecommendIt - Todos os direitos reservados</p>\n      </div>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, computed, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport RecommendationCard from '@/components/RecommendationCard.vue'\nimport axios from 'axios'\n\nexport default {\n  name: 'Home',\n  components: {\n    RecommendationCard\n  },\n  setup() {\n    const router = useRouter()\n    \n    // Form data\n    const topic = ref('')\n    const subreddit = ref('')\n    const subreddits = ref([\n      'anime', 'manga', 'LightNovels', 'books', 'suggestmeabook',\n      'MovieSuggestions', 'televisionsuggestions', 'ifyoulikeblank',\n      'gamesuggestions', 'gamingsuggestions'\n    ])\n    \n    // UI state\n    const isLoading = ref(false)\n    const showResults = ref(false)\n    const showGenreFilter = ref(false)\n    const selectedGenres = ref([])\n    const viewMode = ref('grid')\n    const selectedRecommendation = ref(null)\n    \n    // Data\n    const recommendations = ref([])\n    const genres = computed(() => {\n      const allGenres = new Set()\n      recommendations.value.forEach(rec => {\n        if (rec.generos && Array.isArray(rec.generos)) {\n          rec.generos.forEach(genre => allGenres.add(genre))\n        }\n      })\n      return [...allGenres].sort()\n    })\n    \n    // Filtered recommendations\n    const filteredRecommendations = computed(() => {\n      if (selectedGenres.value.length === 0) {\n        return recommendations.value\n      }\n      \n      return recommendations.value.filter(rec => {\n        if (!rec.generos || !Array.isArray(rec.generos)) return false\n        return selectedGenres.value.some(genre => rec.generos.includes(genre))\n      })\n    })\n    \n    // Load subreddits on mount\n    onMounted(() => {\n      // Check if we have recommendations in localStorage\n      const storedRecommendations = localStorage.getItem('recommendations')\n      if (storedRecommendations) {\n        try {\n          recommendations.value = JSON.parse(storedRecommendations)\n          if (recommendations.value.length > 0) {\n            showResults.value = true\n          }\n        } catch (e) {\n          console.error('Error parsing stored recommendations:', e)\n        }\n      }\n    })\n    \n    // Search Reddit\n    const searchReddit = async () => {\n      if (!topic.value || !subreddit.value) return\n      \n      isLoading.value = true\n      showResults.value = false\n      \n      try {\n        // In a real app, this would be an API call\n        // For now, we'll simulate a delay and return mock data\n        await new Promise(resolve => setTimeout(resolve, 3000))\n        \n        // Mock data\n        const mockRecommendations = [\n          {\n            id: 1,\n            titulo: 'Fullmetal Alchemist: Brotherhood',\n            tipo: 'Anime',\n            episodios: 64,\n            ano: 2009,\n            score: 9.1,\n            image_url: 'https://cdn.myanimelist.net/images/anime/1223/96541.jpg',\n            generos: ['Action', 'Adventure', 'Drama', 'Fantasy'],\n            razoes: [\n              'História envolvente com personagens bem desenvolvidos',\n              'Combina perfeitamente elementos de ação, drama e comédia',\n              'Animação de alta qualidade e trilha sonora memorável'\n            ],\n            recomendadoPor: ['user1', 'user2', 'user3'],\n            sinopse: 'Após uma tentativa fracassada de ressuscitar a mãe falecida, os irmãos Edward e Alphonse Elric buscam a Pedra Filosofal para recuperar seus corpos originais.'\n          },\n          {\n            id: 2,\n            titulo: 'Steins;Gate',\n            tipo: 'Anime',\n            episodios: 24,\n            ano: 2011,\n            score: 9.0,\n            image_url: 'https://cdn.myanimelist.net/images/anime/5/73199.jpg',\n            generos: ['Sci-Fi', 'Thriller', 'Drama'],\n            razoes: [\n              'Trama de viagem no tempo complexa e bem elaborada',\n              'Desenvolvimento de personagem excepcional',\n              'Mistura perfeita de comédia e drama intenso'\n            ],\n            recomendadoPor: ['user1', 'user4'],\n            sinopse: 'Um grupo de amigos cria acidentalmente uma máquina capaz de enviar mensagens para o passado, alterando a linha do tempo e enfrentando consequências inesperadas.'\n          },\n          {\n            id: 3,\n            titulo: 'Attack on Titan',\n            tipo: 'Anime',\n            episodios: 75,\n            ano: 2013,\n            score: 8.9,\n            image_url: 'https://cdn.myanimelist.net/images/anime/10/47347.jpg',\n            generos: ['Action', 'Drama', 'Fantasy', 'Mystery'],\n            razoes: [\n              'Worldbuilding impressionante com revelações surpreendentes',\n              'Cenas de ação dinâmicas e impactantes',\n              'Aborda temas profundos como liberdade, guerra e humanidade'\n            ],\n            recomendadoPor: ['user2', 'user5', 'user6'],\n            sinopse: 'A humanidade luta pela sobrevivência contra gigantes devoradores de humanos, enquanto descobre segredos chocantes sobre sua própria história.'\n          }\n        ]\n        \n        recommendations.value = mockRecommendations\n        \n        // Store debug data\n        const debugData = {\n          topic: topic.value,\n          subreddit: subreddit.value,\n          timestamp: new Date().toISOString(),\n          searchResults: [\n            { title: 'What are your top anime recommendations?', author: 'anime_fan', created: Date.now(), score: 156, commentCount: 78, url: 'https://reddit.com' },\n            { title: 'Looking for anime similar to FMA:B', author: 'new_weeb', created: Date.now(), score: 42, commentCount: 23, url: 'https://reddit.com' }\n          ],\n          aggregatedText: 'Fullmetal Alchemist Brotherhood is often recommended as one of the best anime series...',\n          aiResponse: { recomendacoes: mockRecommendations },\n          jikanData: mockRecommendations.map(rec => ({ titulo: rec.titulo, jikanInfo: { mal_id: Math.floor(Math.random() * 10000) } }))\n        }\n        \n        localStorage.setItem('recommendations', JSON.stringify(recommendations.value))\n        localStorage.setItem('debugData', JSON.stringify(debugData))\n        \n        showResults.value = true\n      } catch (error) {\n        console.error('Error searching Reddit:', error)\n        alert('Ocorreu um erro ao buscar recomendações. Por favor, tente novamente.')\n      } finally {\n        isLoading.value = false\n      }\n    }\n    \n    // Toggle genre filter dropdown\n    const toggleGenreFilter = () => {\n      showGenreFilter.value = !showGenreFilter.value\n    }\n    \n    // Toggle genre selection\n    const toggleGenre = (genre) => {\n      const index = selectedGenres.value.indexOf(genre)\n      if (index === -1) {\n        selectedGenres.value.push(genre)\n      } else {\n        selectedGenres.value.splice(index, 1)\n      }\n    }\n    \n    // Clear genre filters\n    const clearGenreFilters = () => {\n      selectedGenres.value = []\n      showGenreFilter.value = false\n    }\n    \n    // Apply filters\n    const applyFilters = () => {\n      showGenreFilter.value = false\n    }\n    \n    // Set view mode\n    const setViewMode = (mode) => {\n      viewMode.value = mode\n    }\n    \n    // Go to debug page\n    const goToDebug = () => {\n      router.push('/debug')\n    }\n    \n    // Show recommendation details\n    const showDetails = (recommendation) => {\n      selectedRecommendation.value = recommendation\n    }\n    \n    // Format number\n    const formatNumber = (num) => {\n      if (typeof num !== 'number') return num\n      return num.toFixed(1)\n    }\n    \n    return {\n      // Form data\n      topic,\n      subreddit,\n      subreddits,\n      \n      // UI state\n      isLoading,\n      showResults,\n      showGenreFilter,\n      selectedGenres,\n      viewMode,\n      selectedRecommendation,\n      \n      // Data\n      recommendations,\n      genres,\n      filteredRecommendations,\n      \n      // Methods\n      searchReddit,\n      toggleGenreFilter,\n      toggleGenre,\n      clearGenreFilters,\n      applyFilters,\n      setViewMode,\n      goToDebug,\n      showDetails,\n      formatNumber\n    }\n  }\n}\n</script> "],"mappings":"AAkSA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,SAAQ,QAAS,KAAI;AACvD,SAASC,SAAQ,QAAS,YAAW;AACrC,OAAOC,kBAAiB,MAAO,qCAAoC;AACnE,OAAOC,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE;IACVH;EACF,CAAC;EACDI,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIN,SAAS,CAAC;;IAEzB;IACA,MAAMO,KAAI,GAAIX,GAAG,CAAC,EAAE;IACpB,MAAMY,SAAQ,GAAIZ,GAAG,CAAC,EAAE;IACxB,MAAMa,UAAS,GAAIb,GAAG,CAAC,CACrB,OAAO,EAAE,OAAO,EAAE,aAAa,EAAE,OAAO,EAAE,gBAAgB,EAC1D,kBAAkB,EAAE,uBAAuB,EAAE,gBAAgB,EAC7D,iBAAiB,EAAE,mBAAkB,CACtC;;IAED;IACA,MAAMc,SAAQ,GAAId,GAAG,CAAC,KAAK;IAC3B,MAAMe,WAAU,GAAIf,GAAG,CAAC,KAAK;IAC7B,MAAMgB,eAAc,GAAIhB,GAAG,CAAC,KAAK;IACjC,MAAMiB,cAAa,GAAIjB,GAAG,CAAC,EAAE;IAC7B,MAAMkB,QAAO,GAAIlB,GAAG,CAAC,MAAM;IAC3B,MAAMmB,sBAAqB,GAAInB,GAAG,CAAC,IAAI;;IAEvC;IACA,MAAMoB,eAAc,GAAIpB,GAAG,CAAC,EAAE;IAC9B,MAAMqB,MAAK,GAAInB,QAAQ,CAAC,MAAM;MAC5B,MAAMoB,SAAQ,GAAI,IAAIC,GAAG,CAAC;MAC1BH,eAAe,CAACI,KAAK,CAACC,OAAO,CAACC,GAAE,IAAK;QACnC,IAAIA,GAAG,CAACC,OAAM,IAAKC,KAAK,CAACC,OAAO,CAACH,GAAG,CAACC,OAAO,CAAC,EAAE;UAC7CD,GAAG,CAACC,OAAO,CAACF,OAAO,CAACK,KAAI,IAAKR,SAAS,CAACS,GAAG,CAACD,KAAK,CAAC;QACnD;MACF,CAAC;MACD,OAAO,CAAC,GAAGR,SAAS,CAAC,CAACU,IAAI,CAAC;IAC7B,CAAC;;IAED;IACA,MAAMC,uBAAsB,GAAI/B,QAAQ,CAAC,MAAM;MAC7C,IAAIe,cAAc,CAACO,KAAK,CAACU,MAAK,KAAM,CAAC,EAAE;QACrC,OAAOd,eAAe,CAACI,KAAI;MAC7B;MAEA,OAAOJ,eAAe,CAACI,KAAK,CAACW,MAAM,CAACT,GAAE,IAAK;QACzC,IAAI,CAACA,GAAG,CAACC,OAAM,IAAK,CAACC,KAAK,CAACC,OAAO,CAACH,GAAG,CAACC,OAAO,CAAC,EAAE,OAAO,KAAI;QAC5D,OAAOV,cAAc,CAACO,KAAK,CAACY,IAAI,CAACN,KAAI,IAAKJ,GAAG,CAACC,OAAO,CAACU,QAAQ,CAACP,KAAK,CAAC;MACvE,CAAC;IACH,CAAC;;IAED;IACA3B,SAAS,CAAC,MAAM;MACd;MACA,MAAMmC,qBAAoB,GAAIC,YAAY,CAACC,OAAO,CAAC,iBAAiB;MACpE,IAAIF,qBAAqB,EAAE;QACzB,IAAI;UACFlB,eAAe,CAACI,KAAI,GAAIiB,IAAI,CAACC,KAAK,CAACJ,qBAAqB;UACxD,IAAIlB,eAAe,CAACI,KAAK,CAACU,MAAK,GAAI,CAAC,EAAE;YACpCnB,WAAW,CAACS,KAAI,GAAI,IAAG;UACzB;QACF,EAAE,OAAOmB,CAAC,EAAE;UACVC,OAAO,CAACC,KAAK,CAAC,uCAAuC,EAAEF,CAAC;QAC1D;MACF;IACF,CAAC;;IAED;IACA,MAAMG,YAAW,GAAI,MAAAA,CAAA,KAAY;MAC/B,IAAI,CAACnC,KAAK,CAACa,KAAI,IAAK,CAACZ,SAAS,CAACY,KAAK,EAAE;MAEtCV,SAAS,CAACU,KAAI,GAAI,IAAG;MACrBT,WAAW,CAACS,KAAI,GAAI,KAAI;MAExB,IAAI;QACF;QACA;QACA,MAAM,IAAIuB,OAAO,CAACC,OAAM,IAAKC,UAAU,CAACD,OAAO,EAAE,IAAI,CAAC;;QAEtD;QACA,MAAME,mBAAkB,GAAI,CAC1B;UACEC,EAAE,EAAE,CAAC;UACLC,MAAM,EAAE,kCAAkC;UAC1CC,IAAI,EAAE,OAAO;UACbC,SAAS,EAAE,EAAE;UACbC,GAAG,EAAE,IAAI;UACTC,KAAK,EAAE,GAAG;UACVC,SAAS,EAAE,yDAAyD;UACpE9B,OAAO,EAAE,CAAC,QAAQ,EAAE,WAAW,EAAE,OAAO,EAAE,SAAS,CAAC;UACpD+B,MAAM,EAAE,CACN,uDAAuD,EACvD,0DAA0D,EAC1D,sDAAqD,CACtD;UACDC,cAAc,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;UAC3CC,OAAO,EAAE;QACX,CAAC,EACD;UACET,EAAE,EAAE,CAAC;UACLC,MAAM,EAAE,aAAa;UACrBC,IAAI,EAAE,OAAO;UACbC,SAAS,EAAE,EAAE;UACbC,GAAG,EAAE,IAAI;UACTC,KAAK,EAAE,GAAG;UACVC,SAAS,EAAE,sDAAsD;UACjE9B,OAAO,EAAE,CAAC,QAAQ,EAAE,UAAU,EAAE,OAAO,CAAC;UACxC+B,MAAM,EAAE,CACN,mDAAmD,EACnD,2CAA2C,EAC3C,6CAA4C,CAC7C;UACDC,cAAc,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;UAClCC,OAAO,EAAE;QACX,CAAC,EACD;UACET,EAAE,EAAE,CAAC;UACLC,MAAM,EAAE,iBAAiB;UACzBC,IAAI,EAAE,OAAO;UACbC,SAAS,EAAE,EAAE;UACbC,GAAG,EAAE,IAAI;UACTC,KAAK,EAAE,GAAG;UACVC,SAAS,EAAE,uDAAuD;UAClE9B,OAAO,EAAE,CAAC,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,CAAC;UAClD+B,MAAM,EAAE,CACN,4DAA4D,EAC5D,uCAAuC,EACvC,4DAA2D,CAC5D;UACDC,cAAc,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;UAC3CC,OAAO,EAAE;QACX,EACF;QAEAxC,eAAe,CAACI,KAAI,GAAI0B,mBAAkB;;QAE1C;QACA,MAAMW,SAAQ,GAAI;UAChBlD,KAAK,EAAEA,KAAK,CAACa,KAAK;UAClBZ,SAAS,EAAEA,SAAS,CAACY,KAAK;UAC1BsC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;UACnCC,aAAa,EAAE,CACb;YAAEC,KAAK,EAAE,0CAA0C;YAAEC,MAAM,EAAE,WAAW;YAAEC,OAAO,EAAEL,IAAI,CAACM,GAAG,CAAC,CAAC;YAAEb,KAAK,EAAE,GAAG;YAAEc,YAAY,EAAE,EAAE;YAAEC,GAAG,EAAE;UAAqB,CAAC,EACxJ;YAAEL,KAAK,EAAE,oCAAoC;YAAEC,MAAM,EAAE,UAAU;YAAEC,OAAO,EAAEL,IAAI,CAACM,GAAG,CAAC,CAAC;YAAEb,KAAK,EAAE,EAAE;YAAEc,YAAY,EAAE,EAAE;YAAEC,GAAG,EAAE;UAAqB,EAChJ;UACDC,cAAc,EAAE,yFAAyF;UACzGC,UAAU,EAAE;YAAEC,aAAa,EAAExB;UAAoB,CAAC;UAClDyB,SAAS,EAAEzB,mBAAmB,CAAC0B,GAAG,CAAClD,GAAE,KAAM;YAAE0B,MAAM,EAAE1B,GAAG,CAAC0B,MAAM;YAAEyB,SAAS,EAAE;cAAEC,MAAM,EAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,IAAI,KAAK;YAAE;UAAE,CAAC,CAAC;QAC9H;QAEA1C,YAAY,CAAC2C,OAAO,CAAC,iBAAiB,EAAEzC,IAAI,CAAC0C,SAAS,CAAC/D,eAAe,CAACI,KAAK,CAAC;QAC7Ee,YAAY,CAAC2C,OAAO,CAAC,WAAW,EAAEzC,IAAI,CAAC0C,SAAS,CAACtB,SAAS,CAAC;QAE3D9C,WAAW,CAACS,KAAI,GAAI,IAAG;MACzB,EAAE,OAAOqB,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEA,KAAK;QAC9CuC,KAAK,CAAC,sEAAsE;MAC9E,UAAU;QACRtE,SAAS,CAACU,KAAI,GAAI,KAAI;MACxB;IACF;;IAEA;IACA,MAAM6D,iBAAgB,GAAIA,CAAA,KAAM;MAC9BrE,eAAe,CAACQ,KAAI,GAAI,CAACR,eAAe,CAACQ,KAAI;IAC/C;;IAEA;IACA,MAAM8D,WAAU,GAAKxD,KAAK,IAAK;MAC7B,MAAMyD,KAAI,GAAItE,cAAc,CAACO,KAAK,CAACgE,OAAO,CAAC1D,KAAK;MAChD,IAAIyD,KAAI,KAAM,CAAC,CAAC,EAAE;QAChBtE,cAAc,CAACO,KAAK,CAACiE,IAAI,CAAC3D,KAAK;MACjC,OAAO;QACLb,cAAc,CAACO,KAAK,CAACkE,MAAM,CAACH,KAAK,EAAE,CAAC;MACtC;IACF;;IAEA;IACA,MAAMI,iBAAgB,GAAIA,CAAA,KAAM;MAC9B1E,cAAc,CAACO,KAAI,GAAI,EAAC;MACxBR,eAAe,CAACQ,KAAI,GAAI,KAAI;IAC9B;;IAEA;IACA,MAAMoE,YAAW,GAAIA,CAAA,KAAM;MACzB5E,eAAe,CAACQ,KAAI,GAAI,KAAI;IAC9B;;IAEA;IACA,MAAMqE,WAAU,GAAKC,IAAI,IAAK;MAC5B5E,QAAQ,CAACM,KAAI,GAAIsE,IAAG;IACtB;;IAEA;IACA,MAAMC,SAAQ,GAAIA,CAAA,KAAM;MACtBrF,MAAM,CAAC+E,IAAI,CAAC,QAAQ;IACtB;;IAEA;IACA,MAAMO,WAAU,GAAKC,cAAc,IAAK;MACtC9E,sBAAsB,CAACK,KAAI,GAAIyE,cAAa;IAC9C;;IAEA;IACA,MAAMC,YAAW,GAAKC,GAAG,IAAK;MAC5B,IAAI,OAAOA,GAAE,KAAM,QAAQ,EAAE,OAAOA,GAAE;MACtC,OAAOA,GAAG,CAACC,OAAO,CAAC,CAAC;IACtB;IAEA,OAAO;MACL;MACAzF,KAAK;MACLC,SAAS;MACTC,UAAU;MAEV;MACAC,SAAS;MACTC,WAAW;MACXC,eAAe;MACfC,cAAc;MACdC,QAAQ;MACRC,sBAAsB;MAEtB;MACAC,eAAe;MACfC,MAAM;MACNY,uBAAuB;MAEvB;MACAa,YAAY;MACZuC,iBAAiB;MACjBC,WAAW;MACXK,iBAAiB;MACjBC,YAAY;MACZC,WAAW;MACXE,SAAS;MACTC,WAAW;MACXE;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}