{"ast":null,"code":"import { computed } from 'vue';\nexport default {\n  name: 'RecommendationCard',\n  props: {\n    recommendation: {\n      type: Object,\n      required: true\n    },\n    viewMode: {\n      type: String,\n      default: 'grid',\n      validator: value => ['grid', 'list'].includes(value)\n    }\n  },\n  setup(props) {\n    // Computed properties para mapear os dados normalizados\n    const imageUrl = computed(() => {\n      return props.recommendation.imagem || null;\n    });\n    const score = computed(() => {\n      return props.recommendation.score || null;\n    });\n    const tipo = computed(() => {\n      return props.recommendation.tipo || null;\n    });\n    const episodios = computed(() => {\n      return props.recommendation.episodios || null;\n    });\n    const ano = computed(() => {\n      return props.recommendation.ano || null;\n    });\n    const generos = computed(() => {\n      return props.recommendation.generos || [];\n    });\n    const razoes = computed(() => {\n      return props.recommendation.motivos || [];\n    });\n\n    // Limit genres to show\n    const limitedGenres = computed(() => {\n      if (!generos.value || !generos.value.length) return [];\n      return props.viewMode === 'list' ? generos.value.slice(0, 3) : generos.value.slice(0, 2);\n    });\n\n    // Check if there are more genres\n    const hasMoreGenres = computed(() => {\n      if (!generos.value || !generos.value.length) return false;\n      return generos.value.length > limitedGenres.value.length;\n    });\n\n    // Limit reasons to show\n    const limitedReasons = computed(() => {\n      if (!razoes.value || !razoes.value.length) return [];\n      return razoes.value.slice(0, 2);\n    });\n\n    // Check if there are more reasons\n    const hasMoreReasons = computed(() => {\n      if (!razoes.value || !razoes.value.length) return false;\n      return razoes.value.length > limitedReasons.value.length;\n    });\n\n    // Format number (for scores)\n    const formatNumber = num => {\n      if (typeof num !== 'number') return num;\n      return num.toFixed(1);\n    };\n    return {\n      imageUrl,\n      score,\n      tipo,\n      episodios,\n      ano,\n      generos,\n      razoes,\n      limitedGenres,\n      hasMoreGenres,\n      limitedReasons,\n      hasMoreReasons,\n      formatNumber\n    };\n  }\n};","map":{"version":3,"names":["computed","name","props","recommendation","type","Object","required","viewMode","String","default","validator","value","includes","setup","imageUrl","imagem","score","tipo","episodios","ano","generos","razoes","motivos","limitedGenres","length","slice","hasMoreGenres","limitedReasons","hasMoreReasons","formatNumber","num","toFixed"],"sources":["/home/geanwork/Documentos/Projetos/Pessoal/reddit-research/src/components/RecommendationCard.vue"],"sourcesContent":["<template>\n  <div \n    class=\"recommendation-card bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300 hover:shadow-lg\"\n    :class=\"{ \n      'flex flex-row': viewMode === 'list',\n      'flex-col': viewMode === 'grid'\n    }\"\n  >\n    <!-- Image -->\n    <div \n      class=\"recommendation-image bg-gray-200 overflow-hidden\"\n      :class=\"{\n        'w-1/4 min-w-[120px]': viewMode === 'list',\n        'w-full aspect-[3/4]': viewMode === 'grid'\n      }\"\n    >\n      <img \n        v-if=\"imageUrl\" \n        :src=\"imageUrl\" \n        :alt=\"recommendation.titulo\"\n        class=\"w-full h-full object-cover\"\n      />\n      <div v-else class=\"w-full h-full flex items-center justify-center bg-gray-200\">\n        <i class=\"fas fa-image text-gray-400 text-4xl\"></i>\n      </div>\n    </div>\n    \n    <!-- Content -->\n    <div \n      class=\"recommendation-content p-4\"\n      :class=\"{\n        'flex-1': viewMode === 'list'\n      }\"\n    >\n      <!-- Header -->\n      <div class=\"flex justify-between items-start mb-2\">\n        <h3 class=\"text-lg font-bold text-gray-900 line-clamp-2\">{{ recommendation.titulo }}</h3>\n        <div v-if=\"score\" class=\"ml-2 flex items-center\">\n          <span class=\"text-sm font-medium text-amber-500\">{{ formatNumber(score) }}</span>\n          <i class=\"fas fa-star text-amber-500 ml-1\"></i>\n        </div>\n      </div>\n      \n      <!-- Metadata -->\n      <div class=\"text-sm text-gray-500 mb-3\">\n        <span v-if=\"tipo\" class=\"mr-2\">\n          <i class=\"fas fa-tag mr-1\"></i> {{ tipo }}\n        </span>\n        <span v-if=\"episodios\" class=\"mr-2\">\n          <i class=\"fas fa-film mr-1\"></i> {{ episodios }} ep\n        </span>\n        <span v-if=\"ano\">\n          <i class=\"fas fa-calendar-alt mr-1\"></i> {{ ano }}\n        </span>\n      </div>\n      \n      <!-- Genres -->\n      <div v-if=\"generos && generos.length\" class=\"mb-3\">\n        <div class=\"flex flex-wrap gap-1\">\n          <span \n            v-for=\"(genero, index) in limitedGenres\" \n            :key=\"index\"\n            class=\"inline-block px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800\"\n          >\n            {{ genero }}\n          </span>\n          <span \n            v-if=\"hasMoreGenres\" \n            class=\"inline-block px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800\"\n          >\n            +{{ generos.length - limitedGenres.length }}\n          </span>\n        </div>\n      </div>\n      \n      <!-- Reasons -->\n      <div v-if=\"razoes && razoes.length\" class=\"mt-3\">\n        <h4 class=\"text-sm font-semibold text-gray-700 mb-1\">Por que recomendamos:</h4>\n        <ul class=\"text-sm text-gray-600 pl-5 list-disc\">\n          <li v-for=\"(razao, index) in limitedReasons\" :key=\"index\" class=\"mb-1\">\n            {{ razao }}\n          </li>\n          <li v-if=\"hasMoreReasons\" class=\"text-sm text-gray-500 italic\">\n            E mais {{ razoes.length - limitedReasons.length }} razões...\n          </li>\n        </ul>\n      </div>\n      \n      <!-- User Recommendations -->\n      <div v-if=\"recommendation.recomendadoPor && recommendation.recomendadoPor.length\" class=\"mt-3 pt-2 border-t border-gray-200\">\n        <p class=\"text-xs text-gray-500\">\n          <i class=\"fas fa-users mr-1\"></i> Recomendado por \n          <span class=\"font-medium\">{{ recommendation.recomendadoPor.length }}</span> \n          {{ recommendation.recomendadoPor.length === 1 ? 'usuário' : 'usuários' }}\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed } from 'vue'\n\nexport default {\n  name: 'RecommendationCard',\n  props: {\n    recommendation: {\n      type: Object,\n      required: true\n    },\n    viewMode: {\n      type: String,\n      default: 'grid',\n      validator: (value) => ['grid', 'list'].includes(value)\n    }\n  },\n  setup(props) {\n    // Computed properties para mapear os dados normalizados\n    const imageUrl = computed(() => {\n      return props.recommendation.imagem || null;\n    });\n    \n    const score = computed(() => {\n      return props.recommendation.score || null;\n    });\n    \n    const tipo = computed(() => {\n      return props.recommendation.tipo || null;\n    });\n    \n    const episodios = computed(() => {\n      return props.recommendation.episodios || null;\n    });\n    \n    const ano = computed(() => {\n      return props.recommendation.ano || null;\n    });\n    \n    const generos = computed(() => {\n      return props.recommendation.generos || [];\n    });\n    \n    const razoes = computed(() => {\n      return props.recommendation.motivos || [];\n    });\n    \n    // Limit genres to show\n    const limitedGenres = computed(() => {\n      if (!generos.value || !generos.value.length) return []\n      return props.viewMode === 'list' \n        ? generos.value.slice(0, 3) \n        : generos.value.slice(0, 2)\n    })\n    \n    // Check if there are more genres\n    const hasMoreGenres = computed(() => {\n      if (!generos.value || !generos.value.length) return false\n      return generos.value.length > limitedGenres.value.length\n    })\n    \n    // Limit reasons to show\n    const limitedReasons = computed(() => {\n      if (!razoes.value || !razoes.value.length) return []\n      return razoes.value.slice(0, 2)\n    })\n    \n    // Check if there are more reasons\n    const hasMoreReasons = computed(() => {\n      if (!razoes.value || !razoes.value.length) return false\n      return razoes.value.length > limitedReasons.value.length\n    })\n    \n    // Format number (for scores)\n    const formatNumber = (num) => {\n      if (typeof num !== 'number') return num\n      return num.toFixed(1)\n    }\n    \n    return {\n      imageUrl,\n      score,\n      tipo,\n      episodios,\n      ano,\n      generos,\n      razoes,\n      limitedGenres,\n      hasMoreGenres,\n      limitedReasons,\n      hasMoreReasons,\n      formatNumber\n    }\n  }\n}\n</script>\n\n<style scoped>\n.recommendation-item {\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border-radius: 10px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  box-shadow: 0 5px 15px rgba(0,0,0,0.1);\n  animation: fadeInUp 0.5s ease-out;\n  animation-fill-mode: both;\n}\n\n.recommendation-item:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 10px 25px rgba(0,0,0,0.15);\n}\n\n.recommendation-header {\n  background-color: #212529;\n  color: #fff;\n  display: flex;\n  flex-direction: column;\n}\n\n.recommendation-image {\n  height: 200px;\n  width: 100%;\n  overflow: hidden;\n}\n\n.recommendation-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  display: block;\n}\n\n.recommendation-title-info {\n  padding: 15px;\n  display: flex;\n  flex-direction: column;\n}\n\n.recommendation-point {\n  font-weight: 700;\n  font-size: 18px;\n  margin-bottom: 5px;\n  color: #fff;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.recommendation-meta {\n  font-size: 14px;\n  color: #ced4da;\n  margin-bottom: 10px;\n}\n\n.recommendation-score {\n  font-size: 16px;\n  color: #ffc107;\n  margin-bottom: 10px;\n}\n\n.recommendation-score i {\n  margin-right: 5px;\n}\n\n.recommendation-genres {\n  margin-bottom: 10px;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.recommendation-explanation {\n  padding: 15px;\n  background-color: #f8f9fa;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.motivos-title {\n  font-weight: 600;\n  font-size: 16px;\n  margin-bottom: 10px;\n  color: #495057;\n}\n\n.motivos-list {\n  padding-left: 20px;\n  margin-top: 0;\n  margin-bottom: 0;\n  flex: 1;\n}\n\n.motivos-list li {\n  margin-bottom: 8px;\n  line-height: 1.5;\n}\n\n.motivos-list li:last-child {\n  margin-bottom: 0;\n}\n\n/* List view styles */\n.recommendation-item.list-item {\n  flex-direction: row;\n  max-height: 250px;\n}\n\n.recommendation-item.list-item .recommendation-header {\n  flex-direction: row;\n  width: 60%;\n  border-radius: 10px 0 0 10px;\n}\n\n.recommendation-item.list-item .recommendation-image {\n  flex: 0 0 150px;\n  max-width: 150px;\n  height: 100%;\n}\n\n.recommendation-item.list-item .recommendation-explanation {\n  flex: 0 0 40%;\n  max-width: 40%;\n  border-radius: 0 10px 10px 0;\n  height: 100%;\n  overflow-y: auto;\n}\n\n/* Animation */\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Responsive styles */\n@media (max-width: 992px) {\n  .recommendation-item.list-item {\n    flex-direction: column;\n    max-height: none;\n  }\n  \n  .recommendation-item.list-item .recommendation-header {\n    width: 100%;\n    border-radius: 10px 10px 0 0;\n  }\n  \n  .recommendation-item.list-item .recommendation-explanation {\n    max-width: 100%;\n    border-radius: 0 0 10px 10px;\n  }\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}